<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title></title>
</head>
<body>
	<canvas id="my-canvas" width="1000" height="480"></canvas>

	<!-- <textarea name="" id="" cols="30" rows="10" placeholder="输入数据"></textarea> -->

	<script>

	var data = [682.3987472009974,150.1452257213972,682.6133239229988,147.9565431651987,677.6780593349996,140.83259602169733,673.4723556000033,143.02127857779988,673.9444243869939,151.647262769698,670.854519601994,151.90475483519873,670.0820434049944,152.67723103149842,669.8567378479992,154.03979321099996,667.936276194004,156.56106968499898,667.8933608489983,157.9343607005991,668.966244454998,162.01131840329975,666.5629851790043,162.61213322260016,666.8204772439934,163.6421014842976,674.7169005839935,162.39755650139807,667.5500380960016,166.17410679439882,661.7779242959954,167.6546861705982,658.9455115759988,169.11380787469977,657.314728495001,170.91625233270048,662.2929084269969,172.54703541369832,661.6062629189996,172.46120472529992,660.2329719030051,173.19076557740044,658.1730353789992,173.619919019698,657.5722205600043,174.82154865839829,653.7956702669929,175.85151692009924,652.0790564980017,182.80380268669728,644.4186675509995,183.726482587799,640.6262089900052,183.73761415609903,640.5618359729941,183.43720674639906,638.9954259089932,183.39429140219988,638.7538421109922,182.65359898189882,639.354656930996,182.35319157219885,639.0971648649979,181.7523767528985,638.4534347019921,182.05278416249894,638.7538421109922,182.61068363760012,638.5821807339964,182.05278416249894,637.3376357519958,181.7523767528985,636.8655669650052,181.10864658929938,636.5222442109995,181.53780003169993,637.037228342001,182.00986881829976,637.3376357519958,181.66654606440056,638.5821807339964,182.0956995067976,638.9954259089932,183.43720674639906,635.7982327629996,183.97364854939894,634.6234252139935,184.3116068851972,634.188907353993,183.52303743479752,634.1942717719944,183.5498595249997,634.1940867860017,183.5440923749,634.6556117220017,183.29236745949896,634.3766619849929,182.74519682049993,634.4088484930011,182.75592565649913,634.7949016049965,182.5355817853004,633.8936793759926,180.17523785209903,634.4086635069941,180.00357647519917,632.2628962949948,177.51448650940017,630.4604518370012,178.24404736139763,631.6620814759999,180.86188336000032,628.0571925599985,181.67727490049924,628.8082110839979,183.3080579815006,629.5377719359918,182.8359891948973,629.9454677059997,182.9218198833987,628.936957116997,183.58700771909923,627.6280391179994,184.5311452922988,628.1859385929976,185.73277493099908,628.1859385929976,185.96880932429895,628.7438380679957,186.84857388119792,627.4349200689982,187.55667706109762,627.0057666260043,187.25626965139764,626.4693248229974,187.4279310284005,626.4478671509919,187.89999981500029,627.4349200689982,187.57813473319897,624.323557610998,188.56518765070075,619.1629874669984,190.44273396110066,612.7256858310004,195.85006733519873,608.6916434729999,198.16749592399844,607.1252334069952,200.33472080809912,607.7689635709958,202.0513345775984,612.8329741909993,204.5404245433974,606.3098418669937,207.41575260739776,603.4774291469971,205.95663090329975,599.4433867889966,208.0594827710004,601.0956275419999,214.73281879999985,613.305042978004,209.73318119630048,624.7205245450032,206.04246159179763,640.1271331270009,195.65694828609804,649.6972548919955,191.40832920649757,652.8729903659978,189.3054773388999,656.7353713470026,185.44309635739774,660.2115142300049,182.5248529491982,660.5977523290021,183.76939793209772,664.4601333099927,183.1256677684986,663.7305724579987,181.19447727779726,665.5973899330035,182.88963337519874,666.5415275060041,180.91552754029817,670.0391280609977,180.0357629833992,670.296620126001,182.56776829339742,675.1031386810012,183.38315983389987,679.6092498259923,180.207424360299,676.6051757299947,149.73752995109805,682.2700011689931,150.12376804929943,682.3987472009974,150.1452257213972];

		let canvas = document.getElementById('my-canvas');
		let ctx = canvas.getContext('2d');

		function drawLine( data ) {
			
			ctx.beginPath();

			for (let i = 0, l = data.length; i < l; i+=2) {
				ctx.lineTo(data[i], data[i+1])
			}

			ctx.stroke();
			ctx.closePath();
		}

		function drwaPoin( _point ) {
			ctx.beginPath();

			ctx.fillStyle = 'red'

			ctx.arc(_point[0], _point[1], 2, 0, 2*Math.PI, false);

			ctx.fill();
			ctx.closePath();
		}

		arr2 = [
		    60, 90,
		    450, 60,
		    450, 200,
		    400, 200,
		    400, 70,
		    80, 100,
		    220, 200,
		    480, 420,
		    60, 90
		];

		var getCentroid = function (arr) {
			var twoTimesSignedArea = 0;
		    var cxTimes6SignedArea = 0;
		    var cyTimes6SignedArea = 0;

		    var length = arr.length

		    for ( var i = 0; i < arr.length; i+=2) {
		        var _x = arr[i];
		        var _y = arr[i+1];
		        var __x = arr[i+2];
		        var __y = arr[i+3];

		        if (i + 3 > arr.length) {
		        	__x = arr[0];
		        	__y = arr[1];
		        }

		        var twoSA = _x * __y - __x * _y;

		        twoTimesSignedArea += twoSA;
		        cxTimes6SignedArea += (_x + __x) * twoSA;
		        cyTimes6SignedArea += (_y + __y) * twoSA;
		    }
		    
		    var sixSignedArea = 3 * twoTimesSignedArea;

		    return [ cxTimes6SignedArea / sixSignedArea, cyTimes6SignedArea / sixSignedArea]; 
		}

		console.log( getCentroid(arr2) );
		console.log( getCentroid(data) );

		drawLine(arr2)
		drwaPoin( getCentroid(arr2) )

		drawLine( data )
		drwaPoin( getCentroid(data) )


	</script>
</body>
</html>