myChart.showLoading();

$.get('data/asset/geo/HK.json', function (geoJson) {

    myChart.hideLoading();
    
    geoJson = {"type": "FeatureCollection","crs": { "type": "name", "properties": {"name":"urn:ogc:def:crs:EPSG::4019" } },"features": [
	{
		"type":"Feature",
		"properties":{
			"name":"坪上4组",
			"departmentno":"360106001001004"}, 
			"geometry": { 
				"type": "Polygon", 
				"coordinates":[[
		[115.73537452290856, 28.584687264192254],
		[115.73616845677697, 28.585148604142816],
		[115.7366244323095,  28.58503058694616],
		[115.73736472199761, 28.58526662133947],
		[115.73811037610375, 28.585116417634637],
		[115.73843224118554, 28.584934027421625],
		[115.73873801301323, 28.58457997583166],
		[115.7385878093084,  28.58408644937292],
		[115.73801918099724, 28.583399803865106],
		[115.73769731591545, 28.583147676217706],
		[115.73730034898125, 28.583142311799676],
		[115.7372359759649,  28.582900912988336],
		[115.73664052556359, 28.583142311799676],
		[115.73649568627678, 28.58351245664373],
		[115.73619527886711, 28.583705575692804],
		[115.73594851563774, 28.583474905717523],
		[115.73537452290856, 28.584687264192254]
	]]}
	},
	{
		"type":"Feature",
		"properties":{
			"name":"坪上1组",
			"departmentno":"360106001001001"
		}, 
		"geometry": { 
			"type": "Polygon", 
			"coordinates":[
				[
		[115.73054118226372, 28.5890646293045],
		[115.73054118226372, 28.58906462930456],
		[115.73028905461632, 28.588715942132623],
		[115.72972042630516, 28.588109762895257],
		[115.72975261281334, 28.587364108789117],
		[115.73004229138695, 28.586666734445245],
		[115.73078794549309, 28.586377055871637],
		[115.7314370400747,  28.586446793306024],
		[115.73173744748436, 28.587181718576105],
		[115.73191983769738, 28.58903244279638],
		[115.7319788462957,  28.58952060483709],
		[115.73054118226372, 28.58906462930456]
]
			]}
	},
	{"type":"Feature","properties":{"name":"老屋6组","departmentno":"360106001001006"}, "geometry": { "type": "Polygon", "coordinates":[[
		[115.74162943433129, 28.587844224202783],
		[115.74162943433129,28.587844224202783],
		[115.74224097798668,28.589056582677514],
		[115.74249847005211,28.58944818519369],
		[115.74304564069115,28.589276523816736],
		[115.74367327760064,28.589002938497217],
		[115.74469788144432,28.588246555555017],
		[115.74486954282128,28.587570638883264],
		[115.74471933911644,28.587039561498315],
		[115.74405951569878,28.586470933187158],
		[115.74198348592125,28.585086913335473],
		[115.74117882321679,28.58592912696615],
		[115.74059946606957,28.586513848531396]
		]]}
	}
]};

    echarts.registerMap('HK', geoJson);

    myChart.setOption(option = {
        title: {
            text: '香港18区人口密度 （2011）',
            subtext: '人口密度数据来自Wikipedia',
            sublink: 'http://zh.wikipedia.org/wiki/%E9%A6%99%E6%B8%AF%E8%A1%8C%E6%94%BF%E5%8D%80%E5%8A%83#cite_note-12'
        },
        tooltip: {
            trigger: 'item',
            formatter: '{b}<br/>{c} (p / km2)'
        },
        toolbox: {
            show: true,
            orient: 'vertical',
            left: 'right',
            top: 'center',
            feature: {
                dataView: {readOnly: false},
                restore: {},
                saveAsImage: {}
            }
        },
        visualMap: {
            min: 800,
            max: 50000,
            text:['High','Low'],
            realtime: false,
            calculable: true,
            inRange: {
                color: ['lightskyblue','yellow', 'orangered']
            }
        },
        series: [
            {
                name: '',
                type: 'map',
                mapType: 'HK', // 自定义扩展图表类型
                itemStyle:{
                    normal:{label:{show:true}},
                    emphasis:{label:{show:true}}
                },
                data:[
                    {name: '坪上4组', value: 20057.34},
                    {name: '坪上1组', value: 15477.48},
                    {name: '老屋6组', value: 31686.1}
                ]
            }
        ]
    });
});