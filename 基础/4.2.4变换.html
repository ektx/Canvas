<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>保存与恢复</title>
</head>

<body>
<p id="support"></p>
<canvas id="diagonal" style="border:1px solid #00F;" height="400" width="400"></canvas>
</body>
<script type="text/javascript">
//检测浏览器对canvas的支持情况
try {
	document.createElement("canvas").getContext("2d");
	document.getElementById("support").innerHTML = 
		"HTML5 Canvas is supported in your browser.";	
} catch (e) {
	document.getElementById("support").innerHTML =
		"HTML5 Canvas is not supported in your brower.";
}

var canvas = document.getElementById('diagonal');
var context = canvas.getContext('2d');

context.fillStyle = "rgb(255,0,0)";
// 边框为3px
context.lineWidth = 3;
// 边框色为深红
context.strokeStyle = "rgb(180,0,30)";
// 保存直充内容为红色绿色边框的状态
context.save();

// 如果我们希望缩放之后，开始位置还是（10，10）的话
context.translate(100,0);

// 路径与大小
// context.strokeRect(10,10,100,100);
context.fillRect(10, 10, 100, 100);

context.setTransform(1,0,0,1,0,0);
var xScale = Math.cos(0.7854);
var ySkew = -Math.sin(0.7854);
var xSkew = Math.sin(0.7854);
var yScale = Math.cos(0.7854);
var xTrans = 200;
var yTrans = 200;
context.transform(xScale, ySkew, xSkew, yScale, xTrans, yTrans);
// context.transform(x的倍数，x轴倾斜，y轴倾斜，y的倍数，x平移，y平移)
// context.transform(1,1,0.7,1,200,200);
context.fillRect(-50,-50, 100, 100);
</script>

</html>
