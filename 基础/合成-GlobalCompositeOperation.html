<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>canvas globalAlpha</title>
</head>
<body>
	<h3>Canvas globalCompositeOperation(Canvas图像合成)</h3>

	<!-- 1 -->
	<script>
	let GCOList = [
		{
			label: 'source-over 顶层',
			key: 'source-over'
		},
		{
			label: 'destination-over 低层',
			key: 'destination-over'
		},
		{
			label: 'source-atop 源之上 只能出现在源之内的显示',
			key: 'source-atop'
		},
		{
			label: 'destination-atop 目标上 只能在目标上显示，其它的内容都不可见',
			key: 'destination-atop'
		},
		{
			label: 'source-in 相交 只有相交的部分可见，且以后者相交的内容可见',
			key: 'source-in'
		},
		{
			label: 'destination-in 相交 只有相交的部分可见，但是前者相交的内容可见',
			key: 'destination-in'
		},
		{
			label: 'source-out 剪切后 剪切后添加的元素内容，前内容不可见',
			key: 'source-out'
		},
		{
			label: 'destination-out 剪切前 剪切前添加的元素内容，后添加内容不可见',
			key: 'destination-out'
		},
		{
			label: 'lighter 剪去 剪去相交内容',
			key: 'lighter'
		},
		{
			label: 'copy 复制 传说只绘制源，覆盖掉目标，无法看见变化=W=',
			key: 'copy'
		},
		{
			label: 'xor 异或 只绘制没有重叠的部分',
			key: 'xor'
		},
	]

	GCOList.forEach(item => {
		let box = document.createElement('div')

		// text
		let text = document.createElement('p')
		text.innerText = item.label
		box.appendChild(text)

		// canvas
		let canvas = document.createElement('canvas')
		let context = canvas.getContext('2d')

		canvas.width = 300
		canvas.height = 300

		context.fillStyle = 'rgb(63, 169, 245)'
		context.fillRect(50, 50, 100, 100)
		context.globalCompositeOperation = item.key
		context.fillStyle = 'rgb(255, 123, 172)'
		context.fillRect(100, 100, 100, 100)
		
		box.appendChild(canvas)

		document.body.appendChild(box)
	})
	</script>
</body>
</html>