<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>canvas 图像变形</title>
	<script type="text/javascript">
	window.addEventListener('DOMContentLoaded', function() {

		// 平移
		var canvas = document.getElementById('canvas');
		var context = canvas.getContext('2d');

		var _img = new Image();
		_img.src = '龙猫.jpg';

		context.translate(100,100);
		
		_img.onload = function() {
			context.drawImage(_img, 100, 100, 150, 150, 10, 10, 200, 200);
		};

		// 旋转
		var canvas2 = document.getElementById('canvas2');
		var context2 = canvas2.getContext('2d');

		var _img2 = new Image();
		_img2.src = '龙猫.jpg';

		context2.translate(150,0);
		context2.rotate(0.7854); // 45度
		
		_img2.onload = function() {
			context2.drawImage(_img2, 100, 100, 150, 150, 10, 10, 200, 200);
		};


		var canvas3 = document.getElementById('canvas3');
		var context3 = canvas3.getContext('2d');

		var _img3 = new Image();
		_img3.src = '龙猫.jpg';
		
		_img3.onload = function() {
			// 左上角
			context3.translate(50,50);
			context3.drawImage(_img3, 0, 0, 300, 300, 0, 0, 200, 200);

			// 左下角
			context3.setTransform(1, 0, 0, 1, 0, 0); //重置变换矩形
			context3.translate(50, 450);
			context3.scale(1,-1);
			context3.drawImage(_img3, 0, 0, 300, 300, 0, 0, 200, 200);

			context3.setTransform(1, 0, 0, 1, 0, 0); //重置变换矩形
			context3.translate(450, 450);
			context3.scale(-1,-1);
			context3.drawImage(_img3, 0, 0, 300, 300, 0, 0, 200, 200);
			
			context3.setTransform(1, 0, 0, 1, 0, 0); //重置变换矩形
			context3.translate(450, 50);
			context3.scale(-1,1);
			context3.drawImage(_img3, 0, 0, 300, 300, 0, 0, 200, 200);
		}
	});
	</script>
</head>
<body>
<div>
	<h3>平移 context.translate(100,100);</h3>
	<canvas id="canvas" width="300" height="300">
		
	</canvas>
</div>

<div>
	<h3>旋转 context.rotate(0.7854);</h3>
	<canvas id="canvas2" width="300" height="300">
		
	</canvas>
</div>

<div>
	<h3>缩放与翻转的万花筒</h3>
	<canvas id="canvas3" width="500" height="500">
		
	</canvas>
</div>
</body>
</html>